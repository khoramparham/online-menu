
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model User {
  id  Int @id @default(autoincrement())
  createdAt DateTime @default(now())

  name String? 
  phone String @unique 
  otpCode Int @default(0)
  otpExpiresIn String @default(" ")
  email String?
  role  Role  @default(USER)
  
}
enum Role {
  USER
  ADMIN
}
model Category {
  id  Int @id @default(autoincrement())
  name String  @unique @db.VarChar(50)
  parentsID Int? @unique
  parents Category? @relation( "CategorySubset",fields: [parentsID],references: [id])
  subParents Category? @relation("CategorySubset")

  @@index([name,parentsID,id(sort: Desc)])
}
